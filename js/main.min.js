function initMap(){var e={lat:34.828,lng:-111.607},o=new google.maps.Map(document.getElementById("map"),{center:e,zoom:8});new google.maps.Marker({position:e,map:o,icon:"img/icon-map-marker.svg",title:"Sedona"})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var o=this;o;){if(o.matches(e))return o;o=o.parentElement}return null});var reviewFormRequired,reviewName,reviewSecondName,reviewPhone,reviewEmail,page=document.querySelector(".page"),mainNav=document.querySelector(".main-nav"),mainNavToggle=document.querySelector(".main-nav__toggle"),storageName=localStorage.getItem("name"),storageSecondName=localStorage.getItem("secondname"),storagePhone=localStorage.getItem("phone"),storageEmail=localStorage.getItem("email"),modal=document.querySelectorAll(".modal"),modalClose=document.querySelectorAll(".modal__btn--close"),modalSuccess=document.querySelector(".modal--success"),modalFailure=document.querySelector(".modal--failure"),reviewForm=document.querySelector(".review__form");if(reviewForm&&(reviewFormRequired=reviewForm.querySelectorAll("[required]"),reviewName=reviewForm.querySelector("[name=first_name]"),reviewSecondName=reviewForm.querySelector("[name=second_name]"),reviewPhone=reviewForm.querySelector("[name=phone]"),reviewEmail=reviewForm.querySelector("[name=email]")),page.classList.remove("no-js"),svg4everybody(),reviewForm&&(reviewForm.setAttribute("novalidate","novalidate"),reviewName.value=storageName,reviewSecondName.value=storageSecondName,reviewPhone.value=storagePhone,reviewEmail.value=storageEmail),page.addEventListener("mousedown",function(){page.classList.contains("no-focus")||page.classList.add("no-focus")}),page.addEventListener("keydown",function(){page.classList.contains("no-focus")&&page.classList.remove("no-focus")}),mainNavToggle.addEventListener("click",function(){mainNav.classList.contains("main-nav--closed")?(mainNav.classList.remove("main-nav--closed"),mainNav.classList.add("main-nav--opened")):(mainNav.classList.remove("main-nav--opened"),mainNav.classList.add("main-nav--closed"))}),reviewForm&&modalFailure&&modalSuccess&&reviewForm.addEventListener("submit",function(e){e.preventDefault();var o=!1;for(i=0;i<reviewFormRequired.length;i++)reviewFormRequired[i].value?reviewFormRequired[i].classList.contains("field-text__input")&&reviewFormRequired[i].closest(".field-text").classList.remove("field-text--error"):(o=!0,reviewFormRequired[i].classList.contains("field-text__input")&&reviewFormRequired[i].closest(".field-text").classList.add("field-text--error"));o?modalFailure.classList.add("modal--show"):(modalSuccess.classList.add("modal--show"),localStorage.setItem("name",reviewName.value),localStorage.setItem("secondname",reviewSecondName.value),localStorage.setItem("phone",reviewPhone.value),localStorage.setItem("email",reviewEmail.value))}),modal){for(var i=0;i<modal.length;i++)modal[i].addEventListener("click",function(e){e.target.classList.remove("modal--show")}),modalClose[i].addEventListener("click",function(){this.closest(".modal").classList.remove("modal--show")});window.addEventListener("keydown",function(e){if(27===e.keyCode)for(var o=0;o<modal.length;o++)modal[o].classList.remove("modal--show")})}